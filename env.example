# ===========================================
# RECEPCIÓN ACTIVA - CONFIGURACIÓN GENERAL
# ===========================================
# Copie este archivo a .env y configure los valores según su entorno

# ===========================================
# CONFIGURACIÓN DEL SERVIDOR
# ===========================================
NODE_ENV=production
PORT=3000
HOSTNAME=0.0.0.0

# ===========================================
# CONFIGURACIÓN DE LA APLICACIÓN
# ===========================================
# URL base de la aplicación (para acceso desde red)
APP_URL=http://192.168.1.30:3000

# Nombre y versión de la aplicación
APP_NAME=RecepcionActiva
APP_VERSION=1.0.0

# ===========================================
# CONFIGURACIÓN DE BASE DE DATOS
# ===========================================
# URL completa de conexión a la base de datos (Prisma)
# IMPORTANTE: Use SOLO UNA de las opciones siguientes según su configuración

# OPCIÓN 1: Instancia por defecto (puerto 1433) - MÁS COMÚN
DATABASE_URL="sqlserver://sa:su_password_aqui@192.168.1.30:1433;database=VsolDatos;trustServerCertificate=true"

# OPCIÓN 2: Instancia nombrada (ej: SQLEXPRESS) - Descomente si usa instancia nombrada
# DATABASE_URL="sqlserver://sa:su_password_aqui@192.168.1.30\\SQLEXPRESS:1433;database=VsolDatos;trustServerCertificate=true"

# OPCIÓN 3: Con encriptación habilitada - Descomente si requiere encriptación
# DATABASE_URL="sqlserver://sa:su_password_aqui@192.168.1.30:1433;database=VsolDatos;trustServerCertificate=true;encrypt=true"

# OPCIÓN 4: Usando nombre de servidor en lugar de IP - Descomente si prefiere nombre
# DATABASE_URL="sqlserver://sa:su_password_aqui@servidor1\\SQLEXPRESS:1433;database=VsolDatos;trustServerCertificate=true"

# OPCIÓN 5: Windows Authentication (Recomendado para entornos corporativos)
# DATABASE_URL="sqlserver://localhost:1433;database=VsolDatos;integratedSecurity=true;trustServerCertificate=true"

# OPCIÓN 6: Windows Authentication con usuario específico
# DATABASE_URL="sqlserver://localhost:1433;database=VsolDatos;integratedSecurity=true;username=dominio\\usuario;password=password;trustServerCertificate=true"

# Configuración individual de base de datos (REQUERIDO para el driver adapter)
DB_HOST=192.168.1.30
DB_PORT=1433
DB_USER=sa
DB_PASS=su_password_aqui
DB_NAME=VsolDatos

# Configuración del pool de conexiones
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=30000

# ===========================================
# CONFIGURACIÓN DE FTP PARA SUBIDA DE FOTOS
# ===========================================
# Configuración del servidor FTP para almacenar fotos
# Basado en la configuración PHP original (ftp.php)
FTP_HOST=192.168.8.10
FTP_PORT=21
FTP_USER=usermw
FTP_PASSWORD=usermw
FTP_BASE_PATH=/uploads/orders
FTP_SECURE=false
FTP_TIMEOUT=30000

# URL base HTTP para acceder a los archivos FTP
FTP_HTTP_BASE_URL=http://192.168.8.10/uploads

# ===========================================
# CONFIGURACIÓN DE SEGURIDAD
# ===========================================
# JWT Secret para autenticación (genere una cadena aleatoria fuerte)
JWT_SECRET=your-super-secret-jwt-key-here

# Configuración de sesión
SESSION_SECRET=your-session-secret-here
SESSION_MAX_AGE=86400000

# Rounds de encriptación de contraseñas
BCRYPT_ROUNDS=12

# ===========================================
# CONFIGURACIÓN DE LOGGING
# ===========================================
LOG_LEVEL=info
LOG_FILE=logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# ===========================================
# CONFIGURACIÓN DE RENDIMIENTO
# ===========================================
# Tamaño máximo de archivo de subida (en bytes)
MAX_FILE_SIZE=10485760

# Timeout de solicitudes (en milisegundos)
REQUEST_TIMEOUT=30000

# ===========================================
# CONFIGURACIÓN DE MONITOREO Y HEALTH CHECKS
# ===========================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/api/health

# ===========================================
# CONFIGURACIÓN DE CORS
# ===========================================
CORS_ORIGIN=http://192.168.1.30:3000
CORS_CREDENTIALS=true

# ===========================================
# CONFIGURACIÓN DE PM2
# ===========================================
# Archivo de entorno PM2 (usado por ecosystem.config.js)
PM2_ENV_FILE=.env.production

# Configuración de instancias PM2
PM2_INSTANCES=1
PM2_MAX_MEMORY=1G

# ===========================================
# INSTRUCCIONES DE CONFIGURACIÓN
# ===========================================
# 1. Copie este archivo a .env
# 2. Configure la DATABASE_URL según su servidor SQL Server
# 3. Cambie APP_URL por la IP de su servidor
# 4. Configure las credenciales de FTP
# 5. Genere secretos seguros para JWT y sesiones
# 6. Verifique que SQL Server permita conexiones TCP/IP
# 7. Para instancias nombradas, asegure que SQL Server Browser esté ejecutándose
